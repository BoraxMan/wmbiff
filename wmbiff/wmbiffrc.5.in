.\" Hey, Emacs!  This is an -*- nroff -*- source file.
.\" $Id: wmbiffrc.5.in,v 1.2 2002/04/15 02:09:56 bluehal Exp $
.\"
.\" wmbiff.1 and wmbiffrc.5 are copyright 1999-2002 by 
.\" Jordi Mallach <jordi@debian.org>
.\"
.\" This is free documentation, see the latest version of the GNU
.\" General Public License for copying conditions. There is NO warranty.
.TH WMBIFFRC 5 "January 27, 2002" "wmbiff"

.SH NAME
wmbiffrc \- configuration file for
.BR wmbiff (1)

.SH DESCRIPTION
\fBWMbiff\fP is a mail notification tool for the WindowMaker and AfterStep
window managers. It can handle up to 5 mailboxes, and you can define actions
on mouse clicks for the different mailboxes. This manpage explains the
different options which can be specified in a user's wmbiffrc.

.SH OPTIONS
Each option takes the form
.IR option[.mbox] " = " value .
Comment must be preceeded by pound signs (#).

The supported configuration options are:

.TP 3
\fBinterval\fP
Global interval between mailbox checking. Value is the number of seconds, 5
is the default.
.TP 
\fBaskpass\fP
Program run to ask for IMAP passwords, if left empty in the configuration file.
The default is @DEFAULT_ASKPASS@.  Can be specified on a per-mailbox basis.
.TP 
\fBskinfile\fP
XPM pixmap file to load for the background.  If not a full
path, wmbiff will search @SKINDIR@, /usr/share/wmbiff,
/usr/local/share/wmbiff, and the current directory for the
pixmap file.
.TP
\fBlabel.n\fP
Specifies the displayed label for a mailbox. It can be up to five characters
long.
.TP
\fBpath.n\fP
Path to the mailbox, local or remote one. Path lines start with a prefix,
which specifies the type of wmbiff box you're setting up. The following types
are supported:
.RS
.TP
.I mbox
This is a local mbox mailbox. After the prefix, you only need to put the
path to the mailbox wmbiff needs to read.  This is also the default.
.RS
mbox:/path/to/mail/debian-devel
.RS
- or -
.RE
/path/to/mail/debian-devel
.RE
.TP
.I maildir
This works just like \fImbox\fP above.  
.RS
maildir:/path/to/mail/bugtraq/
.RE
.TP
.I pop3
Using this type, WMBiff will check for mail on a pop3 server using the
specified username, password, host and an optional port number (defaulting
to 110). If your password contains a special character, eg. '@' or ':',
use the second path format.  See Authentication below for a description of 
the auth field. 
.RS
pop3:user:passwd@server[:port] [auth]
.RE
.RS
pop3:user passwd server[ port] [auth] 
.RE
.TP
.I imap
These are IMAP4 boxes. As with pop3, WMBiff will report the
status of an IMAP4 mbox using the given values. This type
accepts user, optional password, host and optional path to
mailbox and port number.  See Authentication below for a
description of the auth field.  The password may be left
empty: see askpass above for information on password
prompting.
.RS
imap:user:passwd@server[/mailbox][:port] [auth]
.RE
.RS
imap:user:@server[/mailbox][:port] [auth]
.RE
.RS
imap:user passwd server[/mailbox][ port] [auth]
.RE
.TP
.I imaps
These are IMAP4 boxes wrapped in a TLS (SSL)
connection. @GNUTLS_MAN_STATUS@ Parameters are the same as
those for ordinary IMAP4 boxes.  Port defaults to 993. If
143 is specified, WMBiff will attempt to connect unencrypted
but negotiate TLS using IMAP's STARTTLS command.  TLS
support uses GNUTLS, which is under development and may be
insecure.  TLS support is only for encryption: since
certificates are not yet checked, it is vulnerable to
man-in-the-middle attack.  Like IMAP, WMBiff will prompt
the user if the password is left blank.
.RS
imaps:user:passwd@server[/mailbox][:port] [auth]
.RE
.RS
imaps:user:@server[/mailbox][:port] [auth]
.RE
.RS
imaps:user passwd server[/mailbox][ port] [auth]
.RE
.TP
.I licq
With this box type, wmbiff will read the given history file and track the
number of messages in it. It just needs a path to a given licq history file.
.RS
licq:/path/to/.licq/history/file.history
.RE
.TP
.I gicu
With this box type, wmbiff will ask gnomeicu for the number
of pending messages.  If gnomeicu is not running, nothing
will be displayed.  gnomeicu-client must be in your path.
The user's icq UIN is optional.
.RS
gicu:[UIN]
.RE
.TP
.I finger
With this box type, wmbiff will finger an account to see if
there is unread mail.  Both finger and perl must be in your
path, and your server must run a finger daemon.
.RS
finger:user@host
.RE
.TP
.I shell
With this EXPERIMENTAL keyword, wmbiff will launch the
specified shell command and read its output (STDOUT)
expecting an integer message count or a three-character
string.  If "new" is in the first line, the string or number
will be displayed in yellow. The behavior of this
experimental keyword is likely to change in future
revisions.
.RS
shell:::/path/to/command
.RE
.RE
.TP
\fBnotify.n\fP
Command to be executed on new mail arrival in the given mailbox. Accepts
the special keyword "beep" to use the pc speaker.
.TP
\fBaction.n\fP
Command to be executed on left mouse click on a mailbox label.
.TP
\fBinterval.n\fP
Per mailbox check interval. Value is the amount of seconds between
checkings, default is the global interval.
.TP
\fBfetchinterval.n\fP
Interval between mail auto-fetching. Values accept 0 to disable, -1 for
autofetching on new mail arrival, and positive values for a given interval
in seconds.
.TP
\fBfetchcmd.n\fP
Command to be executed to fetch mail. If not specified, fetching through
wmbiff is disabled completely.
.TP
\fBdebug.n\fP 
Show debugging messages from this mailbox.  Currently
supported values are "all" and "none".  The \-debug option
to wmbiff overrides this setting.  Since IMAP uses a single
connection per server, per-mailbox debugging may not

.SH AUTHENTICATION

Authentication methods include "cram-md5", "apop" (for
Pop3), and "plaintext".  "cram-md5" and "apop" are only
available when wmbiff is compiled with libgcrypt.
@GCRYPT_MAN_STATUS@
Authentication methods are tried in the following order:
cram-md5, apop, plaintext.

Each authentication method will be tried unless a list is
included in the [auth] field.  For example, append "cram-md5
apop" if you don't want your password to be sent in
cleartext over the network.  Conversely, append "plaintext"
if you don't want wmbiff to bother with other authentication
methods.  Leaving authentication methods unspecified should
be reasonably safe.  The order of entries in the [auth] list
is not currently considered.

.SH TROUBLESHOOTING

For problems authenticating to servers, try specifying the
authentication method explicitly as described above:
sometimes a failed attempt to authenticate can cause later
failures.  Some servers claim to support cram-md5 but fail:
telling wmbiff not totry can help.

For other problems, run wmbiff with the -debug option.  See
wmbiff(1) for details.

.SH FILES
.TP
.I ~/.wmbiffrc
per-user wmbiff configuration file.

.SH AUTHOR
This manual page was written by Jordi Mallach <jordi@debian.org>,
originally for the Debian GNU/Linux system (but may be used by others).

.SH SEE ALSO
.PD 0
.TP
\fBwmbiff\fP(1)
.PP
\fI/usr/share/doc/wmbiff/examples/sample.wmbiffrc\fP
(or equivalent on your system)
